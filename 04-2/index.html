<!doctype html>
<meta charset="utf-8">
<title>4</title>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
<!-- 这meta的作用就是删除默认的苹果工具栏和菜单栏 -->
<meta name="mobile-web-app-capable" content="yes">

  <style>
      html,body{
        padding:0;
        margin:0;
      }
      body {
        margin: 0; padding: 0;
        overflow: hidden;
        background-color: #ff00ff;
      }

      canvas { background-color: #222222; }
    </style>
<body>

  <script src="./js/pixi.min.js"></script>
  <script>
  
    var w = 2000;
    var h = 500;
    var bili = w/h;
    var cat=null;
    var background;
    var app;


    var arr = {
      'cat':{
        scale:5
      }
    }

    app = new PIXI.Application({ 
        width: w, 
        height: h,                       
        antialiasing: true, 
        transparent: false, 
        resolution: 1  
      }
    );

    stage = new PIXI.Container();
    resize();
    app.renderer.view.style.position = "absolute"
    app.renderer.view.style.display = "block";
    document.body.appendChild(app.view);



    PIXI.loader
      .add("background", "background.png")
      .load(setup);

    function setup() {

      // background =new PIXI.Sprite(PIXI.loader.resources.background.texture);
      // background.width=200;
      // background.height=200;
      // stage.addChild(background);
      // app.stage.addChild(stage);


      // cat = new PIXI.Sprite(PIXI.TextureCache["background.png"]);
      // cat.anchor.set(0,0);
      // cat.position.set(0,0);
      // cat.scale.x = cat.scale.y = arr.cat.scale;
      // app.stage.addChild(cat);

        background =new PIXI.Sprite(PIXI.loader.resources.background.texture);
        stage.addChild(background);
        app.stage.addChild(stage);


    }

    window.addEventListener('resize', resize);

    function resize(){
        var bili2 = window.innerWidth/window.innerHeight;

        if(bili2>bili){
          app.renderer.resize(window.innerHeight*bili, window.innerHeight);
          app.renderer.view.style.top = 0
          app.renderer.view.style.left = (window.innerWidth-window.innerHeight*bili)/2+'px'
        }else{
          app.renderer.resize(window.innerWidth, window.innerWidth/bili);
          app.renderer.view.style.left = 0
          app.renderer.view.style.top = (window.innerHeight-window.innerWidth/bili)/2+'px'
        }



        app.stage.addChild(stage);
    }




  </script>
</body>

